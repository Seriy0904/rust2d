use macroquad::{color::Color, shapes::draw_rectangle};

pub const MAP_SIZE: usize = 16;

pub const MAP: [[u8; MAP_SIZE]; MAP_SIZE] = [
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1],
    [1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1],
    [1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
    [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
];
pub struct Map {
    pub map_size: usize,
    pub map: [[u8; MAP_SIZE]; MAP_SIZE],
    pub map_item_height: f32,
    pub map_item_width: f32,
}
impl Map {
    pub fn new() -> Map {
        return Map {
            map_size: MAP_SIZE,
            map: MAP,
            map_item_height: 200.0 / MAP_SIZE as f32,
            map_item_width: 200.0 / MAP_SIZE as f32,
        };
    }

    pub fn draw(&self) {
        for y in 0..MAP.len() {
            for x in 0..MAP.len() {
                if self.map[y][x] == 1 {
                    draw_rectangle(
                        (x as f32) * self.map_item_width,
                        (y as f32) * self.map_item_height,
                        self.map_item_width,
                        self.map_item_height,
                        Color {
                            r: 1.0,
                            g: 1.0,
                            b: 0.0,
                            a: 1.0,
                        },
                    );
                } else {
                }
            }
        }
    }
}
